# angular-dialogflow-chatbot

## Creating an angular project
Open command prompt and navigate to the folder where you wish to create the application

Create a new Angular project
```
ng new angular-dialogflow-chatbot
```

Select 'y' when prompted if you want to add Routing into the application
Select 'SCSS' when prompted to select styling

Navigate into the project
```
cd angular-dialogflow-chatbot
```

Also open the code in the editor
Note: If you are using Visual Studio Code, simply type ```code.``` in the command prompt window.

Check if the boiler plate app works fine
```
ng serve
```
Once the code gets compiled, the below message should get printed on the command prompt
```
** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ **
: Compiled successfully.
```
Open a browser window and type the URL ```http://localhost:4200/```. You should now be able to see the boilerplate angular app running.

We use bootstrap for styling in this application. Run the below command to add ng-bootstrap library into the project. 
```
ng add @ng-bootstrap/ng-bootstrap
```
Link for [Reference](https://ng-bootstrap.github.io/#/getting-started#installation).

Add reference to the bootstrap.scss into the "styles" array in 'angular.json' file to import the bootstrap styles into the application
```
"node_modules/bootstrap/scss/bootstrap.scss"
```

Remove the boilerplate code that was generated by default from ```app.component.html```. Only the below line of code should be present in this file
```
<router-outlet></router-outlet>
```

We will also go ahead and add the 'FormsModule' and 'HttpClientModule' into our application. The 'FormsModule' would be required to achieve two way data binding, while we will be using 'HttpClientModule' to make API calls to the Dialogflow chatbot APIs

In the file 'app.module.ts', import the below modules
```
import { FormsModule } from '@angular/forms';
import { HttpClientModule } from '@angular/common/http';
```
Add both the modules into the _imports_ array
```
imports: [
    BrowserModule,
    AppRoutingModule,
    NgbModule,
    FormsModule,
    HttpClientModule
  ]
```

With this done, we are now ready to jump into implementing this application.

## Build the required components, models and services

Create a new component named 'home'. We will use this as out landing route, and provide a navigation option from here to access the chatbot.
```
ng g c home
```

Create a new component named 'chatbot'.
```
ng g c chatbot
```

Create/Register the home and chat routes in the application by making the below changes to ```app-routing.module.ts``` file.
```
import { HomeComponent } from './home/home.component';
import { ChatbotComponent } from './chatbot/chatbot.component';

const routes: Routes = [
  {path: '', component: HomeComponent},
  {path: 'chat', component: ChatbotComponent},
];
```

If you now go and refresh the link ```http://localhost:4200/``` you should see a page that says 'home works!', and using the link ```http://localhost:4200/chat ``` should show a page that says 'chatbot works!'

Provide navigation links within the application to navigate between the routes. Update ```app.component.html``` with the options to navigate
```
<header>
    <div class="container">
        <a href="#" class="logo">Chatbot Application</a>
        <nav>
            <ul>
                <li><a href="#" routerLink="/">Home</a></li>
                <li><a href="#" routerLink="/chat">Chatbot</a></li>
            </ul>
        </nav>
    </div>
</header>
<router-outlet></router-outlet>
```

Add the below code into ```home.component.html``` to display a different message when we land on the home screen instead of just 'home works!' 
```
<div class="container">
    <h2>Welcome to the chatbot application!</h2>
    <p>This is a chatbot application created to demostrate the Dialogflow chatbot integration. Use the navigation bar or <span (click) = "goToChat()">Click here</span> to try it out.</p>
</div>
```

Notice that there is a try it out option provided within the home screen content as well, just to demonstrate routing from thr '.ts' file. 

Import the angular router...
```
import { Router } from '@angular/router';
```
...and create the 'goToChat()' method that would navigate the application to the '/chat' route
```
  goToChat(): void {
    this.router.navigateByUrl('/chat');
  }
```
